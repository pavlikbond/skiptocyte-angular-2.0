<div class="controls-container">
  <div class="max-print-container flex">
    <div class="max-wbc-ratio overflow-hidden">
      {{ getCurrentCount() }} / {{ getMaxWbc() }}
    </div>
    <button class="invis-mobile" (click)="openDialog()">
      <mat-icon>print</mat-icon><span>Print</span>
    </button>
  </div>
  <div class="wbc-inputs my-3">
    <label for="max-wbc">Max Count</label>
    <label for="WBC Count">WBC</label>
    <div></div>
    <input
      type="text"
      (input)="updateMaxWbc($event)"
      [value]="getMaxWbc()"
      placeholder="100"
      class="wbc-input"
      maxlength="8"
    />
    <input
      type="text"
      placeholder="0.00"
      (input)="updateWBCCount($event)"
      [value]="getWBCCount()"
      class="wbc-input"
      maxlength="8"
    />
    <mat-form-field appearance="fill">
      <mat-label>Units</mat-label>
      <mat-select
        [(value)]="selectedUnit"
        panelClass="unit-dropdown"
        (selectionChange)="changeUnit()"
      >
        <mat-select-trigger>{{ selectedUnit }}</mat-select-trigger>
        <ng-container *ngFor="let unit of units; let i = index">
          <mat-option value="{{ unit }}" class="relative"
            ><span>{{ unit }}</span>
            <mat-icon
              (click)="deleteUnitFromList(i)"
              class="absolute -right-2 top-1/4 hover:font-bold transition-all duration-200"
            >
              close icon
            </mat-icon>
          </mat-option>
        </ng-container>
        <mat-option [ngStyle]="{ display: 'none' }">Filler option</mat-option>
        <input
          type="text"
          class="p-3 w-full border-t-2 border-solid border-gray-700"
          (keydown.enter)="addUnits($event)"
          placeholder="Add Units"
          maxlength="15"
        />
      </mat-select>
    </mat-form-field>
  </div>
  <mat-button-toggle-group [(ngModel)]="display" class="text-xs w-full">
    <mat-button-toggle class="w-1/3" value="numpad" checked
      >numpad</mat-button-toggle
    >
    <mat-button-toggle class="w-1/3" value="keyboard"
      >keyboard</mat-button-toggle
    >
    <mat-button-toggle class="w-1/3" value="none">none</mat-button-toggle>
  </mat-button-toggle-group>
  <div *ngIf="display === 'keyboard'">
    <app-keyboard></app-keyboard>
  </div>
  <div class="mb-2" *ngIf="display === 'numpad'">
    <app-keypad></app-keypad>
  </div>
  <div class="grid grid-cols-2 gap-3">
    <button mat-flat-button class="text-lg" (click)="clearBtnHandler()">
      Clear
    </button>
    <mat-button-toggle-group class="text-4xl" (change)="onButtonToggle($event)">
      <mat-button-toggle class="w-1/2" value="+" checked>+</mat-button-toggle>
      <mat-button-toggle class="w-1/2" value="-">-</mat-button-toggle>
    </mat-button-toggle-group>
  </div>
</div>
